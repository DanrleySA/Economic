<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                template="/WEB-INF/templates/layout.xhtml">

    <ui:define name="titulo">Cadastrar Movimentação</ui:define>

    <ui:define name="content">
        <div class="ui-g">
            <div class="ui-g-12 ui-md-12 ui-lg-12">
                <div class="ui-g-3 ui-md-3 ui-lg-3"></div>

                <div class="ui-g-6 ui-md-6 ui-lg-6">
                    <p:messages autoUpdate="true" closable="true" />

                    <p:panel header="Cadastrar Movimentação" styleClass="uncq-title-panel">

                        <f:facet name="actions">
                            <p:link value="Listar Movimentações"
                                    styleClass="link-navegacao" />
                        </f:facet>

                        <h:form id="frm">
                            <h:panelGrid columns="1" style="width: 100%" cellpadding="5">
                                <p:outputLabel value="Descrição: " for="desc"
                                               styleClass="label-form" />
                                <p:inputText id="desc"
                                             placeholder="Insira uma descrição para a movimentação"
                                             required="true"
                                             requiredMessage="O campo 'Descrição' é obrigatório!"
                                             value="#{cadastroMovFinanceiraBean.movimentacaoFinanceira.descricao}"
                                             style="width: 98%" />
                            </h:panelGrid>
                            <h:panelGrid columns="2" style="width: 100%" cellpadding="5">
                                <p:outputLabel value="Categoria: "/>
                                <p:selectOneMenu value="#{cadastroMovFinanceiraBean.movimentacaoFinanceira.categoria}" 
                                                 required="true" requiredMessage="Selecione uma categoria!">
                                    <f:selectItem itemLabel="Selecione uma"/>
                                    <f:selectItems value="#{cadastroMovFinanceiraBean.categorias}" var="categoria"
                                                   itemValue="#{categoria}" itemLabel="#{categoria.descricao}"/>
                                </p:selectOneMenu>
                            </h:panelGrid>

                            <h:panelGrid columns="4" style="width: 100%" cellpadding="5">
                                <p:outputLabel value="Tipo: "/>
                                <p:selectOneRadio value="#{cadastroMovFinanceiraBean.movimentacaoFinanceira.tipo}"
                                                  required="true" requiredMessage="Selecione um tipo!">
                                    <f:selectItem itemLabel="Receita " itemValue="RECEITA"/>
                                    <f:selectItem itemLabel="Despesa " itemValue="DESPESA"/>
                                </p:selectOneRadio> 

                                <p:outputLabel value="Status: "/>
                                <p:selectOneRadio value="#{cadastroMovFinanceiraBean.movimentacaoFinanceira.status}"
                                                  required="true" requiredMessage="Escolha um status!">
                                    <f:selectItem itemLabel="Concluída" itemValue="CONCLUIDA"/>
                                    <f:selectItem itemLabel="Pendente" itemValue="PENDENTE"/>
                                </p:selectOneRadio>

                                <p:outputLabel value="Data:"/>
                                <p:calendar value="#{cadastroMovFinanceiraBean.movimentacaoFinanceira.dataVencimento}"/>

                                <p:outputLabel value="Valor:"/>
                                <p:inputNumber value="#{cadastroMovFinanceiraBean.movimentacaoFinanceira.valor}" 
                                               required="true" decimalSeparator=","  thousandSeparator="."
                                               requiredMessage="O campo 'Preço' é obrigatório!" 
                                               size="15">
                                    <p:keyFilter regEx="/[\d\.\s,]"/>
                                </p:inputNumber>

                            </h:panelGrid>    
                            <hr />
                                <p:commandButton value="Salvar" icon="fa fa-save"
                                                 action="#{cadastroMovFinanceiraBean.salvar()}"
                                                 styleClass="botao-laranja" update="frm"/>
                            </h:form>
                    </p:panel>
                </div>

                <div class="ui-g-3 ui-md-3 ui-lg-3"></div>
            </div>
        </div>
    </ui:define>

</ui:composition>